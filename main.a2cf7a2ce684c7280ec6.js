(()=>{"use strict";var e={776:(e,t,n)=>{e.exports=n.p+"b5aec35d291ebb0bd86b.jpg"},412:(e,t,n)=>{e.exports=n.p+"02986b8c8fc35ae9851d.jpg"},21:(e,t,n)=>{e.exports=n.p+"8bbf52b03453cebe9e88.jpg"},7:(e,t,n)=>{e.exports=n.p+"10c328e2c391f4db2296.jpg"},932:(e,t,n)=>{e.exports=n.p+"3b980ce144bfd8a9948c.jpg"},113:(e,t,n)=>{e.exports=n.p+"b6673d1e27f24aa65b47.jpg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="",n.b=document.baseURI||self.location.href;var r={};(()=>{function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(r,{l:()=>H});var t=function(){function t(e,n){var r=e.items,o=e.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._itemsArray=r,this._container=document.querySelector(n),this._renderer=o}var n,r;return n=t,(r=[{key:"renderItems",value:function(){var e=this;this._itemsArray.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n,r,o=this,i=t.popupSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.code&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(i)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close-button"))&&e.close()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=l(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},c.apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function p(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function u(e){var t,n=e.popupSelector,r=e.popupImageSelector,o=e.imageTitleSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,{popupSelector:n}))._popupPicture=t._popup.querySelector(r),t._pictureTitle=t._popup.querySelector(o),t}return t=u,(n=[{key:"open",value:function(e,t){c(f(u.prototype),"open",this).call(this),this._pictureTitle.textContent=e,this._popupPicture.src=t,this._popupPicture.alt=e}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(i);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function m(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function u(e){var t,n,r=e.popupSelector,o=e.selectorsConfig,a=e.formSubmitHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),w(h(n=i.call(this,{popupSelector:r})),"_getInputValues",(function(){return n._userInputData={},n._inputFields.forEach((function(e){n._userInputData[e.name]=e.value})),n._userInputData})),w(h(n),"setEventListeners",(function(){v((t=h(n),g(u.prototype)),"setEventListeners",t).call(t),n._form.addEventListener("submit",(function(){return n._submitHandler(n._getInputValues())}))})),n._submitHandler=a,n._form=n._popup.querySelector(o.formSelector),n._inputFields=Array.from(n._popup.querySelectorAll(o.inputSelector)),n}return t=u,(n=[{key:"close",value:function(){v(g(u.prototype),"close",this).call(this),this._form.reset()}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(i);function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){var n=t.userNameSelector,r=t.userAboutSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(n),this._userAbout=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._currentUserData={userName:this._userName.textContent,userAbout:this._userAbout.textContent},this._currentUserData}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.main,this._userAbout.textContent=e.secondary}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),j=document.querySelector(".profile"),C=document.querySelector(".edit-form_type_profile-edit"),I=j.querySelector(".profile__edit-button"),P=j.querySelector(".profile__add-button"),L=C.querySelector(".edit-form__input_type_name"),B=C.querySelector(".edit-form__input_type_about"),R={},q=[{main:"Карачаевск",secondary:new URL(n(776),n.b)},{main:"Гора Эльбрус",secondary:new URL(n(412),n.b)},{main:"Домбай",secondary:new URL(n(21),n.b)},{main:"Челябинск",secondary:new URL(n(7),n.b)},{main:"Ивановская область",secondary:new URL(n(932),n.b)},{main:"Шерегеш",secondary:new URL(n(113),n.b)}],x={formSelector:".edit-form",inputSelector:".edit-form__input",submitButtonSelector:".edit-form__submit-button",disabledSubmitButtonClass:"edit-form__submit-button_disabled",inputErrorClass:"edit-form__input_type_error"};function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){var n=t.selectorsConfig,r=t.formElement;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=r,this._disabledSubmitButtonClass=n.disabledSubmitButtonClass,this._inputFieldErrorClass=n.inputErrorClass,this._submitButton=this._form.querySelector(n.submitButtonSelector),this._inputFields=Array.from(this._form.querySelectorAll(n.inputSelector))}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this._toggleSubmitButtonState(),this._inputFields.forEach((function(t){e._hideInputIsInvalid(t)}))}},{key:"enableSubmitButton",value:function(){this._submitButton.removeAttribute("disabled"),this._submitButton.classList.remove(this._disabledSubmitButtonClass)}},{key:"disableSubmitButton",value:function(){this._submitButton.setAttribute("disabled",!0),this._submitButton.classList.add(this._disabledSubmitButtonClass)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleSubmitButtonState(),this._inputFields.forEach((function(t){t.addEventListener("input",(function(){e._showInputValidityState(t),e._toggleSubmitButtonState()}))}))}},{key:"_toggleSubmitButtonState",value:function(){this._hasInvalidInput()?this.disableSubmitButton():this.enableSubmitButton()}},{key:"_showInputValidityState",value:function(e){e.validity.valid?this._hideInputIsInvalid(e):this._showInputIsInvalid(e,e.validationMessage)}},{key:"_showInputIsInvalid",value:function(e,t){var n=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputFieldErrorClass),n.textContent=t}},{key:"_hideInputIsInvalid",value:function(e){var t=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputFieldErrorClass),t.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputFields.some((function(e){return!e.validity.valid}))}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t){var n=t.cardData,r=t.cardSelector,o=t.imageClickHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardElement=document.querySelector(r),this._cardName=n.main,this._cardPic=n.secondary,this._imageClickHandler=o}var t,n;return t=e,(n=[{key:"_getCardTemplate",value:function(){return this._cardElement.content.querySelector(".grid-elements__item").cloneNode(!0)}},{key:"_handleLikeButton",value:function(){this._likeButton.classList.toggle("card__like-button_active")}},{key:"_handleCardRemoval",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._handleLikeButton()})),this._element.querySelector(".card__delete-button").addEventListener("click",(function(){e._handleCardRemoval()})),this._cardImage.addEventListener("click",(function(){e._imageClickHandler(e._cardName,e._cardPic)}))}},{key:"createCard",value:function(){return this._element=this._getCardTemplate(),this._cardImage=this._element.querySelector(".card__photo"),this._likeButton=this._element.querySelector(".card__like-button"),this._setEventListeners(),this._element.querySelector(".card__name").textContent=this._cardName,this._cardImage.alt=this._cardName,this._cardImage.src=this._cardPic,this._element}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e,t){H.open(e,t)}function F(e){var t=new D({cardData:e,cardSelector:".cards-template",imageClickHandler:N}).createCard();V.addItem(t)}var H=new d({popupSelector:".popup_type_opened-card",popupImageSelector:".popup__photo",imageTitleSelector:".popup__image-title"}),V=new t({items:q,renderer:function(e){F(e)}},".grid-elements");V.renderItems();var M,z=new O({userNameSelector:".profile__name",userAboutSelector:".profile__about"}),G=new E({popupSelector:".popup_type_profile-edit",selectorsConfig:x,formSubmitHandler:function(e){z.setUserInfo(e),G.close()}}),J=new E({popupSelector:".popup_type_add-card",selectorsConfig:x,formSubmitHandler:function(e){F(e),J.close(),R["card-adding-form"].disableSubmitButton()}});M=x,Array.from(document.querySelectorAll(M.formSelector)).forEach((function(e){var t=new T({selectorsConfig:M,formElement:e}),n=e.getAttribute("name");R[n]=t,t.enableValidation()})),I.addEventListener("click",(function(){var e=z.getUserInfo(),t=e.userName,n=e.userAbout;L.value=t,B.value=n,R["info-editing-form"].resetValidation(),G.open()})),P.addEventListener("click",(function(){J.open(),R["card-adding-form"].resetValidation()})),J.setEventListeners(),G.setEventListeners(),H.setEventListeners()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBUUcsY0FHUixJRHRDaUMxRixFQ3NDM0IyRixFQUFXLElBQUk1RSxFQUFTLENBQzVCQyxpQkFBa0IsaUJBQ2xCQyxrQkFBbUIsb0JBS2YyRSxFQUFlLElBQUk3RixFQUFjLENBQ3JDdkIsY0FBZSwyQkFDZndCLGdCQUFpQm1DLEVBRWpCbEMsa0JBQW1CLFNBQUM0RixHQUNsQkYsRUFBU0csWUFBWUQsR0FDckJELEVBQWFqSCxXQU1Yb0gsRUFBa0IsSUFBSWhHLEVBQWMsQ0FDeEN2QixjQUFlLHVCQUNmd0IsZ0JBQWlCbUMsRUFFakJsQyxrQkFBbUIsU0FBQytGLEdBQ2xCWixFQUFXWSxHQUNYRCxFQUFnQnBILFFBQ2hCcUQsRUFBZSxvQkFBZkEseUJEaEU2QmhDLEVDcUVoQm1DLEVEcEVFekIsTUFBTUMsS0FDckJ0RCxTQUFTdUQsaUJBQWlCWixFQUFnQlMsZUFHbkN0QyxTQUFRLFNBQUNxRSxHQUNoQixJQUFNeUQsRUFBWSxJQUFJMUQsRUFBYyxDQUNsQ3ZDLGdCQUFpQkEsRUFDakJ3QyxZQUFhQSxJQUVUMEQsRUFBVzFELEVBQVkyRCxhQUFhLFFBRTFDbkUsRUFBZWtFLEdBQVlELEVBQzNCQSxFQUFVRyxzQkM0RWR4RSxFQUFxQjdDLGlCQUFpQixTQWpCdEMsV0FDRSxNQUFnQzRHLEVBQVNVLGNBQWpDaEYsRUFBUixFQUFRQSxTQUFVQyxFQUFsQixFQUFrQkEsVUFFbEJRLEVBQWdCekIsTUFBUWdCLEVBQ3hCVSxFQUFpQjFCLE1BQVFpQixFQUV6QlUsRUFBZSxxQkFBZkEsa0JBQ0E0RCxFQUFhVCxVQVdmdEQsRUFBaUI5QyxpQkFBaUIsU0FQbEMsV0FDRWdILEVBQWdCWixPQUNoQm5ELEVBQWUsb0JBQWZBLHFCQU9GK0QsRUFBZ0JPLG9CQUNoQlYsRUFBYVUsb0JBQ2JwQixFQUFlb0IscUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLW1lc3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0tbWVzdG8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0tbWVzdG8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLW1lc3RvL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0tbWVzdG8vd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS1tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS1tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0tbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLW1lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLW1lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS1tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS1tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS1tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS1tZXN0by8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLW1lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXNBcnJheSA9IGl0ZW1zO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtc0FycmF5LmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbUh0bWwpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtSHRtbCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykgfHxcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZS1idXR0b24nKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmNvZGUgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBwb3B1cEltYWdlU2VsZWN0b3IsIGltYWdlVGl0bGVTZWxlY3RvciB9KSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX3BvcHVwUGljdHVyZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IocG9wdXBJbWFnZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9waWN0dXJlVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKGltYWdlVGl0bGVTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKG5hbWUsIHBpYykge1xuICAgIHN1cGVyLm9wZW4oKTtcblxuICAgIHRoaXMuX3BpY3R1cmVUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBQaWN0dXJlLnNyYyA9IHBpYztcbiAgICB0aGlzLl9wb3B1cFBpY3R1cmUuYWx0ID0gbmFtZTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIHNlbGVjdG9yc0NvbmZpZywgZm9ybVN1Ym1pdEhhbmRsZXIgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIHBvcHVwU2VsZWN0b3IsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gZm9ybVN1Ym1pdEhhbmRsZXI7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzQ29uZmlnLmZvcm1TZWxlY3Rvcik7XG4gICAgdGhpcy5faW5wdXRGaWVsZHMgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnNDb25maWcuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMgPSAoKSA9PiB7XG4gICAgdGhpcy5fdXNlcklucHV0RGF0YSA9IHt9O1xuICAgIHRoaXMuX2lucHV0RmllbGRzLmZvckVhY2goKGlucHV0RmllbGQpID0+IHtcbiAgICAgIHRoaXMuX3VzZXJJbnB1dERhdGFbaW5wdXRGaWVsZC5uYW1lXSA9IGlucHV0RmllbGQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX3VzZXJJbnB1dERhdGE7XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCkgPT5cbiAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSlcbiAgICApO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJBYm91dFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQWJvdXRTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICB0aGlzLl9jdXJyZW50VXNlckRhdGEgPSB7XG4gICAgICB1c2VyTmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXG4gICAgICB1c2VyQWJvdXQ6IHRoaXMuX3VzZXJBYm91dC50ZXh0Q29udGVudCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRVc2VyRGF0YTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5ld1VzZXJEYXRhKSB7XG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBuZXdVc2VyRGF0YS5tYWluO1xuICAgIHRoaXMuX3VzZXJBYm91dC50ZXh0Q29udGVudCA9IG5ld1VzZXJEYXRhLnNlY29uZGFyeTtcbiAgfVxufVxuIiwiLy8g0J7QsdGK0Y/QstC70LXQvdC40LUg0LLRgdC10YUg0LrQvtC90YHRgtCw0L3RglxuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlJyk7XG5jb25zdCBwcm9maWxlRWRpdGluZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAnLmVkaXQtZm9ybV90eXBlX3Byb2ZpbGUtZWRpdCdcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRpbmdCdXR0b24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXG4gICcucHJvZmlsZV9fZWRpdC1idXR0b24nXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBZGRCdXR0b24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUZvcm1OYW1lID0gcHJvZmlsZUVkaXRpbmdGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICcuZWRpdC1mb3JtX19pbnB1dF90eXBlX25hbWUnXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtQWJvdXQgPSBwcm9maWxlRWRpdGluZ0Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgJy5lZGl0LWZvcm1fX2lucHV0X3R5cGVfYWJvdXQnXG4pO1xuXG5leHBvcnQgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuLy8g0JrQvtC90YHRgtCw0L3RgtGLINC00LvRjyDQvNCw0YHRgdC40LLQsCDRgSDQvdCw0YfQsNC70YzQvdGL0LzQuCDQutCw0YDRgtC+0YfQutCw0LzQuFxuY29uc3QgaW1hZ2UxID0gbmV3IFVSTCgnLi4vaW1hZ2VzL2NhcmRzL2NhcmRfX3Bob3RvLTEuanBnJywgaW1wb3J0Lm1ldGEudXJsKTtcbmNvbnN0IGltYWdlMiA9IG5ldyBVUkwoJy4uL2ltYWdlcy9jYXJkcy9jYXJkX19waG90by0yLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBpbWFnZTMgPSBuZXcgVVJMKCcuLi9pbWFnZXMvY2FyZHMvY2FyZF9fcGhvdG8tMy5qcGcnLCBpbXBvcnQubWV0YS51cmwpO1xuY29uc3QgaW1hZ2U0ID0gbmV3IFVSTCgnLi4vaW1hZ2VzL2NhcmRzL2NhcmRfX3Bob3RvLTQuanBnJywgaW1wb3J0Lm1ldGEudXJsKTtcbmNvbnN0IGltYWdlNSA9IG5ldyBVUkwoJy4uL2ltYWdlcy9jYXJkcy9jYXJkX19waG90by01LmpwZycsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBpbWFnZTYgPSBuZXcgVVJMKCcuLi9pbWFnZXMvY2FyZHMvY2FyZF9fcGhvdG8tNi5qcGcnLCBpbXBvcnQubWV0YS51cmwpO1xuXG4vLyDQnNCw0YHRgdC40LIg0YEg0L3QsNGH0LDQu9GM0L3Ri9C80Lgg0LrQsNGA0YLQvtGH0LrQsNC80LhcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBtYWluOiAn0JrQsNGA0LDRh9Cw0LXQstGB0LonLFxuICAgIHNlY29uZGFyeTogaW1hZ2UxLFxuICB9LFxuICB7XG4gICAgbWFpbjogJ9CT0L7RgNCwINCt0LvRjNCx0YDRg9GBJyxcbiAgICBzZWNvbmRhcnk6IGltYWdlMixcbiAgfSxcbiAge1xuICAgIG1haW46ICfQlNC+0LzQsdCw0LknLFxuICAgIHNlY29uZGFyeTogaW1hZ2UzLFxuICB9LFxuICB7XG4gICAgbWFpbjogJ9Cn0LXQu9GP0LHQuNC90YHQuicsXG4gICAgc2Vjb25kYXJ5OiBpbWFnZTQsXG4gIH0sXG4gIHtcbiAgICBtYWluOiAn0JjQstCw0L3QvtCy0YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxuICAgIHNlY29uZGFyeTogaW1hZ2U1LFxuICB9LFxuICB7XG4gICAgbWFpbjogJ9Co0LXRgNC10LPQtdGIJyxcbiAgICBzZWNvbmRhcnk6IGltYWdlNixcbiAgfSxcbl07XG5cbi8vINCe0LHRitC10LrRgiDRgdC+INCy0YHQtdC80Lgg0LrQu9Cw0YHRgdCw0LzQuCDQuCDRgdC10LvQtdC60YLQvtGA0LDQvNC4LCDQuNGB0L/QvtC70YzQt9GD0LXQvNGL0LzQuCDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8XG5leHBvcnQgY29uc3QgZm9ybVNlbGVjdG9yc0FuZENsYXNzZXMgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5lZGl0LWZvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLmVkaXQtZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5lZGl0LWZvcm1fX3N1Ym1pdC1idXR0b24nLFxuICBkaXNhYmxlZFN1Ym1pdEJ1dHRvbkNsYXNzOiAnZWRpdC1mb3JtX19zdWJtaXQtYnV0dG9uX2Rpc2FibGVkJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZWRpdC1mb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoeyBzZWxlY3RvcnNDb25maWcsIGZvcm1FbGVtZW50IH0pIHtcbiAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fZGlzYWJsZWRTdWJtaXRCdXR0b25DbGFzcyA9IHNlbGVjdG9yc0NvbmZpZy5kaXNhYmxlZFN1Ym1pdEJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RmllbGRFcnJvckNsYXNzID0gc2VsZWN0b3JzQ29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBzZWxlY3RvcnNDb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMuX2lucHV0RmllbGRzID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnNDb25maWcuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dEZpZWxkcy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dElzSW52YWxpZChpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlU3VibWl0QnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZGlzYWJsZWRTdWJtaXRCdXR0b25DbGFzcyk7XG4gIH1cblxuICBkaXNhYmxlU3VibWl0QnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fZGlzYWJsZWRTdWJtaXRCdXR0b25DbGFzcyk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0RmllbGRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9zaG93SW5wdXRWYWxpZGl0eVN0YXRlKGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF90b2dnbGVTdWJtaXRCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVuYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93SW5wdXRWYWxpZGl0eVN0YXRlKGlucHV0KSB7XG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0SXNJbnZhbGlkKGlucHV0LCBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dElzSW52YWxpZChpbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dElzSW52YWxpZChpbnB1dCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JUZXh0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0tZXJyb3JgKTtcblxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRGaWVsZEVycm9yQ2xhc3MpO1xuICAgIGVycm9yVGV4dC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRJc0ludmFsaWQoaW5wdXQpIHtcbiAgICBjb25zdCBlcnJvclRleHQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xuXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEZpZWxkRXJyb3JDbGFzcyk7XG4gICAgZXJyb3JUZXh0LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dEZpZWxkcy5zb21lKChpbnB1dEZpZWxkKSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RmllbGQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7IGNhcmREYXRhLCBjYXJkU2VsZWN0b3IsIGltYWdlQ2xpY2tIYW5kbGVyIH0pIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jYXJkTmFtZSA9IGNhcmREYXRhLm1haW47XG4gICAgdGhpcy5fY2FyZFBpYyA9IGNhcmREYXRhLnNlY29uZGFyeTtcblxuICAgIHRoaXMuX2ltYWdlQ2xpY2tIYW5kbGVyID0gaW1hZ2VDbGlja0hhbmRsZXI7XG4gIH1cblxuICBfZ2V0Q2FyZFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IHRoaXMuX2NhcmRFbGVtZW50LmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZ3JpZC1lbGVtZW50c19faXRlbScpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRUZW1wbGF0ZTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlQnV0dG9uKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gIH1cblxuICBfaGFuZGxlQ2FyZFJlbW92YWwoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyDQodC70YPRiNCw0YLQtdC70Ywg0LrQvdC+0L/QutC4INC70LDQudC60LBcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbigpO1xuICAgIH0pO1xuXG4gICAgLy8g0KHQu9GD0YjQsNGC0LXQu9GMINC60L3QvtC/0LrQuCDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmNhcmRfX2RlbGV0ZS1idXR0b24nKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkUmVtb3ZhbCgpO1xuICAgICAgfSk7XG5cbiAgICAvKiDQodC70YPRiNCw0YLQtdC70Ywg0L3QsCDQuNC30L7QsdGA0LDQttC10L3QuNC1INCyINC60LDRgNGC0L7Rh9C60LVcbiAgICAgINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINGE0YPQu9GB0LrRgNC40L0g0L/QvtC/0LDQv9CwICovXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faW1hZ2VDbGlja0hhbmRsZXIodGhpcy5fY2FyZE5hbWUsIHRoaXMuX2NhcmRQaWMpO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0Q2FyZFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fcGhvdG8nKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbmFtZScpLnRleHRDb250ZW50ID0gdGhpcy5fY2FyZE5hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX2NhcmROYW1lO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9jYXJkUGljO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cbiIsImltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IHsgcG9wdXBXaXRoSW1hZ2UgfSBmcm9tICcuLi9wYWdlcy9pbmRleC5qcyc7XG5pbXBvcnQgeyBmb3JtVmFsaWRhdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuLy8g0KTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyDQuNC30L7QsdGA0LDQttC10L3QuNGPINCyINGE0YPQu9GB0LrRgNC40L1cbmZ1bmN0aW9uIG9wZW5GdWxsc2NyZWVuSW1hZ2UobmFtZSwgcGljKSB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW4obmFtZSwgcGljKTtcbn1cblxuLy8g0KTRg9C90LrRhtC40Y8g0LLQutC70Y7Rh9C10L3QuNGPINCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0LLRgdC10YUg0YTQvtGA0Lwg0L3QsCDRgdGC0YDQsNC90LjRhtC1XG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlVmFsaWRhdGlvbihzZWxlY3RvcnNDb25maWcpIHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzQ29uZmlnLmZvcm1TZWxlY3RvcilcbiAgKTtcblxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHtcbiAgICAgIHNlbGVjdG9yc0NvbmZpZzogc2VsZWN0b3JzQ29uZmlnLFxuICAgICAgZm9ybUVsZW1lbnQ6IGZvcm1FbGVtZW50LFxuICAgIH0pO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG5cbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59XG5cbi8vINCk0YPQvdC60YbQuNGPINGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoe1xuICAgIGNhcmREYXRhOiBjYXJkLFxuICAgIGNhcmRTZWxlY3RvcjogJy5jYXJkcy10ZW1wbGF0ZScsXG4gICAgaW1hZ2VDbGlja0hhbmRsZXI6IG9wZW5GdWxsc2NyZWVuSW1hZ2UsXG4gIH0pLmNyZWF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuIiwiLy8g0JjQvNC/0L7RgNGC0Ysg0LrQvtC80L/QvtC90LXQvdGC0L7QslxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcblxuLy8g0JjQvNC/0L7RgNGCINCy0YHQtdGFINC90YPQttC90YvRhSDQutC+0L3RgdGC0LDQvdGCXG5pbXBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIHByb2ZpbGVFZGl0aW5nQnV0dG9uLFxuICBmb3JtU2VsZWN0b3JzQW5kQ2xhc3NlcyxcbiAgcHJvZmlsZUFkZEJ1dHRvbixcbiAgcHJvZmlsZUZvcm1OYW1lLFxuICBwcm9maWxlRm9ybUFib3V0LFxuICBmb3JtVmFsaWRhdG9ycyxcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuLy8g0JjQvNC/0L7RgNGCINCy0YHQtdGFINCy0YHQv9C+0LzQvtCz0LDRgtC10LvRjNC90YvRhSDRhNGD0L3QutGG0LjQuVxuaW1wb3J0IHsgY3JlYXRlQ2FyZCwgZW5hYmxlVmFsaWRhdGlvbiB9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcblxuLy8g0KTRg9C90LrRhtC40Y8g0YDQtdC90LTQtdGA0LjQvdCz0LAg0LrQsNGA0YLQvtGH0LrQuFxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnRIdG1sID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudEh0bWwpO1xufVxuXG4vLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQv9C+0L/QsNC/0LAg0LjQt9C+0LHRgNCw0LbQtdC90LjRj1xuZXhwb3J0IGNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHtcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX29wZW5lZC1jYXJkJyxcbiAgcG9wdXBJbWFnZVNlbGVjdG9yOiAnLnBvcHVwX19waG90bycsXG4gIGltYWdlVGl0bGVTZWxlY3RvcjogJy5wb3B1cF9faW1hZ2UtdGl0bGUnLFxufSk7XG5cbi8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60LvQsNGB0YHQsCBTZWN0aW9uINC00LvRj1xuLy8g0YDQtdC90LTQtdGA0LjQvdCz0LAg0L3QsNGH0LDQu9GM0L3QvtCz0L4g0LzQsNGB0YHQuNCy0LAg0LrQsNGA0YLQvtGH0LXQulxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgICByZW5kZXJlcjogKGNhcmQpID0+IHtcbiAgICAgIHJlbmRlckNhcmQoY2FyZCk7XG4gICAgfSxcbiAgfSxcbiAgJy5ncmlkLWVsZW1lbnRzJ1xuKTtcblxuc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuXG4vLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQutC70LDRgdGB0LAgVXNlckluZm9cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgdXNlck5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19uYW1lJyxcbiAgdXNlckFib3V0U2VsZWN0b3I6ICcucHJvZmlsZV9fYWJvdXQnLFxufSk7XG5cbi8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4INC60LvQsNGB0YHQsCBQb3B1cFdpdGhGb3JtXG4vLyDQtNC70Y8g0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX3Byb2ZpbGUtZWRpdCcsXG4gIHNlbGVjdG9yc0NvbmZpZzogZm9ybVNlbGVjdG9yc0FuZENsYXNzZXMsXG5cbiAgZm9ybVN1Ym1pdEhhbmRsZXI6IChuZXdQcm9maWxlRGF0YSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKG5ld1Byb2ZpbGVEYXRhKTtcbiAgICBwcm9maWxlUG9wdXAuY2xvc2UoKTtcbiAgfSxcbn0pO1xuXG4vLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjQuCDQutC70LDRgdGB0LAgUG9wdXBXaXRoRm9ybVxuLy8g0LTQu9GPINC/0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBjYXJkQWRkaW5nUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfdHlwZV9hZGQtY2FyZCcsXG4gIHNlbGVjdG9yc0NvbmZpZzogZm9ybVNlbGVjdG9yc0FuZENsYXNzZXMsXG5cbiAgZm9ybVN1Ym1pdEhhbmRsZXI6ICh1c2VyQ2FyZERhdGEpID0+IHtcbiAgICByZW5kZXJDYXJkKHVzZXJDYXJkRGF0YSk7XG4gICAgY2FyZEFkZGluZ1BvcHVwLmNsb3NlKCk7XG4gICAgZm9ybVZhbGlkYXRvcnNbJ2NhcmQtYWRkaW5nLWZvcm0nXS5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gIH0sXG59KTtcblxuLy8g0JLQutC70Y7Rh9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxuZW5hYmxlVmFsaWRhdGlvbihmb3JtU2VsZWN0b3JzQW5kQ2xhc3Nlcyk7XG5cbi8vINCk0YPQvdC60YbQuNGPLCDQvtGC0LrRgNGL0LLQsNGO0YnQsNGPINC/0L7Qv9Cw0L8g0YEg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtdC8INC/0YDQvtGE0LjQu9GPXG5mdW5jdGlvbiBvcGVuUHJvZmlsZVBvcHVwKCkge1xuICBjb25zdCB7IHVzZXJOYW1lLCB1c2VyQWJvdXQgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG5cbiAgcHJvZmlsZUZvcm1OYW1lLnZhbHVlID0gdXNlck5hbWU7XG4gIHByb2ZpbGVGb3JtQWJvdXQudmFsdWUgPSB1c2VyQWJvdXQ7XG5cbiAgZm9ybVZhbGlkYXRvcnNbJ2luZm8tZWRpdGluZy1mb3JtJ10ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG59XG5cbi8vINCk0YPQvdC60YbQuNGPLCDQvtGC0LrRgNGL0LLQsNGO0YnQsNGPINC/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XG5mdW5jdGlvbiBvcGVuQ2FyZEFkZGluZ1BvcHVwKCkge1xuICBjYXJkQWRkaW5nUG9wdXAub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yc1snY2FyZC1hZGRpbmctZm9ybSddLnJlc2V0VmFsaWRhdGlvbigpO1xufVxuXG4vLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDRgdC70YPRiNCw0YLQtdC70LXQuVxucHJvZmlsZUVkaXRpbmdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuUHJvZmlsZVBvcHVwKTtcbnByb2ZpbGVBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQ2FyZEFkZGluZ1BvcHVwKTtcblxuY2FyZEFkZGluZ1BvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInAiLCJiIiwiZG9jdW1lbnQiLCJiYXNlVVJJIiwic2VsZiIsImxvY2F0aW9uIiwiaHJlZiIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJ0aGlzIiwiX2l0ZW1zQXJyYXkiLCJfY29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsIl9yZW5kZXJlciIsImZvckVhY2giLCJpdGVtIiwiaXRlbUh0bWwiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiZXZ0IiwiY29kZSIsImNsb3NlIiwiX3BvcHVwIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwicG9wdXBJbWFnZVNlbGVjdG9yIiwiaW1hZ2VUaXRsZVNlbGVjdG9yIiwiX3BvcHVwUGljdHVyZSIsIl9waWN0dXJlVGl0bGUiLCJuYW1lIiwicGljIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJQb3B1cFdpdGhGb3JtIiwic2VsZWN0b3JzQ29uZmlnIiwiZm9ybVN1Ym1pdEhhbmRsZXIiLCJfdXNlcklucHV0RGF0YSIsIl9pbnB1dEZpZWxkcyIsImlucHV0RmllbGQiLCJ2YWx1ZSIsIl9mb3JtIiwiX3N1Ym1pdEhhbmRsZXIiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtU2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsInJlc2V0IiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckFib3V0U2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckFib3V0IiwiX2N1cnJlbnRVc2VyRGF0YSIsInVzZXJOYW1lIiwidXNlckFib3V0IiwibmV3VXNlckRhdGEiLCJtYWluIiwic2Vjb25kYXJ5IiwicHJvZmlsZSIsInByb2ZpbGVFZGl0aW5nRm9ybSIsInByb2ZpbGVFZGl0aW5nQnV0dG9uIiwicHJvZmlsZUFkZEJ1dHRvbiIsInByb2ZpbGVGb3JtTmFtZSIsInByb2ZpbGVGb3JtQWJvdXQiLCJmb3JtVmFsaWRhdG9ycyIsImluaXRpYWxDYXJkcyIsIlVSTCIsImZvcm1TZWxlY3RvcnNBbmRDbGFzc2VzIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJkaXNhYmxlZFN1Ym1pdEJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2Rpc2FibGVkU3VibWl0QnV0dG9uQ2xhc3MiLCJfaW5wdXRGaWVsZEVycm9yQ2xhc3MiLCJfc3VibWl0QnV0dG9uIiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfdG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUiLCJpbnB1dEVsZW1lbnQiLCJfaGlkZUlucHV0SXNJbnZhbGlkIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiX3Nob3dJbnB1dFZhbGlkaXR5U3RhdGUiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsImVuYWJsZVN1Ym1pdEJ1dHRvbiIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zaG93SW5wdXRJc0ludmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsImVycm9yVGV4dCIsImlkIiwic29tZSIsIkNhcmQiLCJjYXJkRGF0YSIsImNhcmRTZWxlY3RvciIsImltYWdlQ2xpY2tIYW5kbGVyIiwiX2NhcmRFbGVtZW50IiwiX2NhcmROYW1lIiwiX2NhcmRQaWMiLCJfaW1hZ2VDbGlja0hhbmRsZXIiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2xpa2VCdXR0b24iLCJ0b2dnbGUiLCJfZWxlbWVudCIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2hhbmRsZUNhcmRSZW1vdmFsIiwiX2NhcmRJbWFnZSIsIl9nZXRDYXJkVGVtcGxhdGUiLCJvcGVuRnVsbHNjcmVlbkltYWdlIiwicG9wdXBXaXRoSW1hZ2UiLCJvcGVuIiwicmVuZGVyQ2FyZCIsImNhcmRFbGVtZW50SHRtbCIsImNyZWF0ZUNhcmQiLCJzZWN0aW9uIiwiYWRkSXRlbSIsImNhcmQiLCJyZW5kZXJJdGVtcyIsInVzZXJJbmZvIiwicHJvZmlsZVBvcHVwIiwibmV3UHJvZmlsZURhdGEiLCJzZXRVc2VySW5mbyIsImNhcmRBZGRpbmdQb3B1cCIsInVzZXJDYXJkRGF0YSIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImdldFVzZXJJbmZvIiwic2V0RXZlbnRMaXN0ZW5lcnMiXSwic291cmNlUm9vdCI6IiJ9